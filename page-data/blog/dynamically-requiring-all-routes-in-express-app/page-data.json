{"componentChunkName":"component---src-templates-post-js","path":"/blog/dynamically-requiring-all-routes-in-express-app/","result":{"data":{"markdownRemark":{"html":"<p>If you are using express framework for developing a web application , you might be familiar with the concept of routing and how it plays an important role in your app. Routing refers to how an application’s endpoints (URIs) respond to client requests. For an introduction to routing, see Basic routing.\nYou define routing using methods of the Express app object that correspond to HTTP methods;\nFor example, app.get() to handle GET requests and app.post to handle POST requests. For a full list, see app.METHOD. You can also use app.all() to handle all HTTP methods and app.use() to specify middleware as the callback function (See Using middleware for details).\nI like to fragment my routes in separate files and like to require them in the root js file. This not only improves your code readability but also makes debugging alot easier as it is easy to pinpoint the exact location in the exact file instead of going through bulk of codes in a single file.\nTo use your fragmented routes , you have to require them similar to a nodejs module and put it inside app.use . This is simple if your routes folder has a couple of routes but if you are talking about a webapp of a large scale, there may be a dozen or more routes files which means you have to require each files and the app.js file gets populated with the code for requiring your routes .\nAlso if there are multiple routes , there may be a possibility that you may forget to use a route.\nSo a quick hack would be to use dynamic routing which automatically requires all your routes in routes folder thus reducing the code and\nrequiring the routing easier.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/**\n* Dynamic Routing\n* Adds all routes from routes folder\n*/</span>\nfs<span class=\"token punctuation\">.</span><span class=\"token function\">readdir</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./routes\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> files</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\nfiles<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./routes/\"</span> <span class=\"token operator\">+</span> file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Here we have used the filesystem module to read all files from routes folder and using them in instance of express app.</p>","excerpt":"If you are using express framework for developing a web application , you might be familiar with the concept of routing and how it plays an…","tableOfContents":"","frontmatter":{"title":"Dynamically requiring all routes in express app","date":"2019-09-04","slug":"/blog/dynamically-requiring-all-routes-in-express-app/","tags":["nodejs","express","javascript"],"cover_image":{"publicURL":"/static/dc954cb5d5e8e4ea89362132f979de8e/cover.webp"}}}},"pageContext":{}},"staticQueryHashes":["3115057458"],"slicesMap":{}}