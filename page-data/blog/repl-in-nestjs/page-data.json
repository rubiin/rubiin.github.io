{"componentChunkName":"component---src-templates-post-js","path":"/blog/repl-in-nestjs/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"nestjs\" style=\"position:relative;\"><a href=\"#nestjs\" aria-label=\"nestjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nestjs</h2>\n<p>NestJS stands out as a progressive framework that combines the best of TypeScript and Node.js to create an efficient and robust environment for building server-side applications. By adopting a modular architecture, it enables developers to compartmentalize their code into reusable modules, which is particularly beneficial in large-scale applications. The framework's use of decorators, inspired by Angular, makes the codebase more declarative and easier to maintain, while built-in dependency injection ensures that components and services are loosely coupled and scalable. NestJS is versatile, supporting a wide range of use cases from simple RESTful APIs to complex microservices architectures, and even real-time applications using WebSockets. Additionally, it offers seamless integration with a variety of databases through ORM libraries like TypeORM and Mongoose.</p>\n<p>The flexibility to work with either Express or Fastify as underlying HTTP servers further enhances its adaptability. All these features make NestJS an excellent choice for developers seeking to build highly maintainable and scalable enterprise applications.</p>\n<h2 id=\"repl-in-nestjs\" style=\"position:relative;\"><a href=\"#repl-in-nestjs\" aria-label=\"repl in nestjs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>REPL in Nestjs</h2>\n<p>The NestJS REPL (Read-Eval-Print Loop) is a powerful feature designed to improve developer productivity by allowing real-time interaction with a running NestJS application. It provides an interactive shell that can be used for debugging, testing, and inspecting the application’s components without the need for full deployment or restarting the server. Here's a deeper dive into the REPL's capabilities:</p>\n<h3 id=\"detailed-features-of-nestjs-repl\" style=\"position:relative;\"><a href=\"#detailed-features-of-nestjs-repl\" aria-label=\"detailed features of nestjs repl permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Detailed Features of NestJS REPL:</h3>\n<h4 id=\"1-real-time-application-interaction\" style=\"position:relative;\"><a href=\"#1-real-time-application-interaction\" aria-label=\"1 real time application interaction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Real-time Application Interaction</h4>\n<ul>\n<li>Access the application context and interact with components like services, controllers, and providers.</li>\n<li>Test service methods and modify application behavior in real time, which is ideal for experimentation and debugging.</li>\n</ul>\n<h4 id=\"2-dynamic-dependency-injection\" style=\"position:relative;\"><a href=\"#2-dynamic-dependency-injection\" aria-label=\"2 dynamic dependency injection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Dynamic Dependency Injection</h4>\n<ul>\n<li>Inject and interact with services on the fly, without the need to restart the application.</li>\n<li>This is useful for quickly verifying logic and testing functionality.</li>\n</ul>\n<h4 id=\"3-improved-debugging-and-troubleshooting\" style=\"position:relative;\"><a href=\"#3-improved-debugging-and-troubleshooting\" aria-label=\"3 improved debugging and troubleshooting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Improved Debugging and Troubleshooting</h4>\n<ul>\n<li>Debug your application more efficiently by inspecting variables, testing functions, and analyzing component behavior live.</li>\n</ul>\n<h4 id=\"4-command-execution\" style=\"position:relative;\"><a href=\"#4-command-execution\" aria-label=\"4 command execution permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. Command Execution</h4>\n<ul>\n<li>Execute TypeScript code snippets directly in the REPL, utilizing TypeScript's strong typing and modern JavaScript features.</li>\n<li>Test new code or modifications immediately without the need for redeployment.</li>\n</ul>\n<h4 id=\"5-access-to-core-components\" style=\"position:relative;\"><a href=\"#5-access-to-core-components\" aria-label=\"5 access to core components permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. Access to Core Components</h4>\n<ul>\n<li>Invoke methods from core components such as modules, controllers, and services directly from the REPL.</li>\n<li>Interact with custom logic and test endpoints live.</li>\n</ul>\n<h4 id=\"6-custom-scripts-and-utilities\" style=\"position:relative;\"><a href=\"#6-custom-scripts-and-utilities\" aria-label=\"6 custom scripts and utilities permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. Custom Scripts and Utilities</h4>\n<ul>\n<li>Load and execute custom scripts, making the REPL a flexible tool for running application-specific utilities or database operations.</li>\n</ul>\n<p>To get started,create a new file <code class=\"language-text\">repl.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> existsSync<span class=\"token punctuation\">,</span> mkdirSync <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"node:fs\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> join <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"node:path\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Logger <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/common\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> repl <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@nestjs/core\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./app.module\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> logger <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Logger</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Repl\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">bootstrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> replServer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">repl</span><span class=\"token punctuation\">(</span>AppModule<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// OPTIONAL: sets up persistent history file for repl,</span>\n  <span class=\"token keyword\">const</span> cacheDirectory <span class=\"token operator\">=</span> <span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"node_modules\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".cache\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">existsSync</span><span class=\"token punctuation\">(</span>cacheDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token function\">mkdirSync</span><span class=\"token punctuation\">(</span>cacheDirectory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  replServer<span class=\"token punctuation\">.</span><span class=\"token function\">setupHistory</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">join</span><span class=\"token punctuation\">(</span>cacheDirectory<span class=\"token punctuation\">,</span> <span class=\"token string\">\".nestjs_repl_history\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> logger<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">bootstrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Then you can run the app in repl mode with :</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">npm</span> run start -- <span class=\"token parameter variable\">--entryFile</span> repl</code></pre></div>\n<p>Even better, add a script on your <code class=\"language-text\">package.json</code></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"start:repl\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"npm run start -- --entryFile repl\"</span></code></pre></div>\n<p>It will initiate an interactive server, from which you can easily access your nest app methods by getting them either as</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">get<span class=\"token punctuation\">(</span>AppService<span class=\"token punctuation\">)</span>.getAllPosts<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>or</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token variable\"><span class=\"token variable\">$(</span>AppService<span class=\"token variable\">)</span></span>.getAllPosts<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>You can also navigate with the command history with ↕️ arrow keys</p>\n<p>Read more at the <a href=\"https://docs.nestjs.com/recipes/repl\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">official documentation</a></p>","excerpt":"Nestjs NestJS stands out as a progressive framework that combines the best of TypeScript and Node.js to create an efficient and robust…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#nestjs\">Nestjs</a></p>\n</li>\n<li>\n<p><a href=\"#repl-in-nestjs\">REPL in Nestjs</a></p>\n<ul>\n<li>\n<p><a href=\"#detailed-features-of-nestjs-repl\">Detailed Features of NestJS REPL:</a></p>\n<ul>\n<li><a href=\"#1-real-time-application-interaction\">1. Real-time Application Interaction</a></li>\n<li><a href=\"#2-dynamic-dependency-injection\">2. Dynamic Dependency Injection</a></li>\n<li><a href=\"#3-improved-debugging-and-troubleshooting\">3. Improved Debugging and Troubleshooting</a></li>\n<li><a href=\"#4-command-execution\">4. Command Execution</a></li>\n<li><a href=\"#5-access-to-core-components\">5. Access to Core Components</a></li>\n<li><a href=\"#6-custom-scripts-and-utilities\">6. Custom Scripts and Utilities</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"REPL in Nestjs","date":"2024-07-14","slug":"/blog/repl-in-nestjs/","tags":["nestjs","repl","typescript"],"cover_image":{"publicURL":"/static/6d250c9d2b875de5b5374658fa0eaf7b/repl.gif"}}}},"pageContext":{}},"staticQueryHashes":["3115057458"],"slicesMap":{}}