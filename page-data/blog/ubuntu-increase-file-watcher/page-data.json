{"componentChunkName":"component---src-templates-post-js","path":"/blog/ubuntu-increase-file-watcher/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"overview\" style=\"position:relative;\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h2>\n<blockquote>\n<p>Possible cause of Vue.js hot reload or LiveReload not working and failed file watchers on IDE</p>\n</blockquote>\n<p>Listen uses inotify by default on Linux to monitor directories for changes. It's not uncommon to encounter a system limit on the number of files you can monitor. For example, Ubuntu Lucid's (64bit) inotify limit is set to 8192.</p>\n<p>The current default is 8192 (see fs/notify/inotify/inotify_user.c in the kernel source), you can verify this by printing the file to stdout:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">cat</span> /proc/sys/fs/inotify/max_user_watches\n<span class=\"token number\">8192</span></code></pre></div>\n<p>You can bump the number up, for example, doubling this to 16384, using:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token builtin class-name\">echo</span> <span class=\"token number\">16384</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /proc/sys/fs/inotify/max_user_watches</code></pre></div>\n<p>bear in mind that inotify watches do consume memory, I think it's around 160 bytes per watch on 64 bit systems.</p>\n<p>To set this permanently, add an entry to /etc/sysctl.conf, for example:</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token builtin class-name\">echo</span> <span class=\"token assign-left variable\">fs.inotify.max_user_watches</span><span class=\"token operator\">=</span><span class=\"token number\">16384</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> <span class=\"token parameter variable\">-a</span> /etc/sysctl.conf\n<span class=\"token function\">sudo</span> <span class=\"token function\">sysctl</span> <span class=\"token parameter variable\">-p</span></code></pre></div>\n<p>..or manually edit /etc/sysctl.conf (you need root privileges to update it) and then run</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">sudo</span> <span class=\"token function\">sysctl</span> <span class=\"token parameter variable\">-p</span></code></pre></div>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>Increasing the inotify watchers can prevent issues related to file system monitoring, especially for applications like development tools or servers that handle numerous files or directories.Adjusting the number of inotify watchers on Ubuntu is crucial for applications that monitor many files or directories, such as development tools and servers. By increasing the fs.inotify.max_user_watches limit, you can prevent issues related to file monitoring limits and ensure your application runs smoothly. This adjustment can be made temporarily or permanently, depending on your needs, and helps maintain optimal performance and functionality for applications relying on file system events.</p>","excerpt":"Overview Possible cause of Vue.js hot reload or LiveReload not working and failed file watchers on IDE Listen uses inotify by default onâ€¦","tableOfContents":"<ul>\n<li><a href=\"#overview\">Overview</a></li>\n<li><a href=\"#conclusion\">Conclusion</a></li>\n</ul>","frontmatter":{"title":"Ubuntu Increase Inotify Watcher (File Watch Limit)","date":"2020-11-01","slug":"/blog/ubuntu-increase-file-watcher/","tags":["ubuntu","linux"],"cover_image":{"publicURL":"/static/8ccd938aadc2786113d9677a3229dc8d/cover.webp"}}}},"pageContext":{}},"staticQueryHashes":["3115057458"],"slicesMap":{}}