{"version":3,"file":"component---src-pages-blog-index-js-79717eca3740c1a0377c.js","mappings":"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","sources":["webpack://rubiin.github.io/./src/pages/blog/index.js"],"sourcesContent":["import { Layout } from '@components';\nimport config from '@config';\nimport { Button, Main, media, mixins, theme } from '@styles';\nimport { graphql, Link } from 'gatsby';\nimport Img from 'gatsby-image';\nimport kebabCase from 'lodash/kebabCase';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport styled from 'styled-components';\nconst { colors, fontSizes, fonts } = theme;\n\nconst StyledTagsContainer = styled.div`\n  max-width: max-content;\n  height: fit-content;\n  margin-top: 100px;\n  ${media.bigDesktop`display:none;`};\n  ${media.phablet`display: none;`};\n`;\n\nconst StyledMainContainer = styled(Main)`\n  & > header {\n    text-align: center;\n    margin-bottom: 100px;\n\n    a {\n      &:hover,\n      &:focus {\n        cursor:\n          url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='40' height='48' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>⚡</text></svg>\")\n            20 0,\n          auto;\n      }\n    }\n  }\n\n  footer {\n    ${mixins.flexBetween};\n    margin-top: 20px;\n    width: 100%;\n    justify-content: flex-end;\n  }\n`;\n\nconst StyledButtonContainer = styled.div`\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst StyledFeaturedImg = styled(Img)`\n  width: 100%;\n  max-width: 100%;\n  vertical-align: middle;\n  border-radius: ${theme.borderRadius};\n  position: relative;\n  mix-blend-mode: multiply;\n  filter: grayscale(100%) contrast(1) brightness(90%);\n  ${media.tablet`\n    object-fit: cover;\n    width: auto;\n    height: 100%;\n    filter: grayscale(100%) contrast(1) brightness(80%);\n  `};\n`;\nconst StyledFlex = styled.div`\n  margin-top: 20px;\n  display: flex;\n  width: inherit;\n  gap: 10%;\n  justify-content: space-around;\n\n  .posts {\n    display: flex;\n    flex-direction: column;\n    width: 80%;\n    gap: 0.5rem;\n  }\n`;\n\nconst StyledPostInner = styled.div`\n  ${mixins.boxShadow};\n  ${mixins.flexBetween};\n  flex-direction: column;\n  align-items: flex-start;\n  position: relative;\n  padding: 2rem 1.75rem;\n  height: 100%;\n  border-radius: ${theme.borderRadius};\n  transition: ${theme.transition};\n  background-color: ${colors.lightNavy};\n  header,\n  a {\n    width: 100%;\n  }\n`;\nconst StyledAllCategory = styled(Link)`\n  padding: 1rem;\n`;\n\nconst StyledPost = styled.div`\n  transition: ${theme.transition};\n  cursor: default;\n  &:hover,\n  &:focus {\n    outline: 0;\n    ${StyledPostInner} {\n      transform: translateY(-5px);\n    }\n  }\n`;\nconst StyledReadingTime = styled.span`\n  font-family: ${fonts.SFMono};\n  font-size: ${fontSizes.smish};\n  color: ${colors.lightSlate};\n`;\nconst StyledDate = styled(StyledReadingTime)`\n  text-transform: uppercase;\n`;\n\nconst StyledReadingTimeContainer = styled.div`\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  margin-top: 10px;\n  justify-content: space-between;\n`;\n\nconst StyledPostHeader = styled.div`\n  ${mixins.flexBetween};\n  margin-bottom: 30px;\n`;\nconst StyledFolder = styled.div`\n  color: ${colors.green};\n  svg {\n    width: 40px;\n    height: 40px;\n  }\n`;\nconst StyledPostName = styled.h5`\n  margin: 0 0 10px;\n  font-size: ${fontSizes.xxl};\n  color: ${colors.lightestSlate};\n`;\nconst StyledPostDescription = styled.div`\n  font-size: 17px;\n  color: ${colors.lightSlate};\n`;\n\nconst StyledTags = styled.ul`\n  display: flex;\n  align-items: flex-end;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n\n  li {\n    font-family: ${fonts.SFMono};\n    font-size: ${fontSizes.xs};\n    color: ${colors.green};\n    line-height: 1.75;\n    margin-right: 15px;\n    &:last-of-type {\n      margin-right: 0;\n    }\n    a {\n      ${mixins.inlineLink};\n    }\n  }\n`;\n\nconst StyledToggleButton = styled(Button)`\n  padding: 0.5rem 0.7rem;\n  margin: 0.4rem;\n`;\n\nconst StyledMoreButton = styled(Button)`\n  margin: 40px 0;\n  padding: 1.25rem 10rem;\n  ${media.phablet`padding:1.25rem 5rem;`};\n`;\n\nconst StyledLatestPostHeader = styled.h1`\n    margin: 0  auto;\n    margin-bottom: 1rem;\n}\n`;\n\nconst BlogPage = ({ location, data }) => {\n  const group = data.allMarkdownRemark.group;\n  const GRID_LIMIT = 4;\n\n  const [posts, setPosts] = useState(data.allMarkdownRemark.edges);\n  const [toggleText, setToggleTxt] = useState('Featured');\n  const [postsToShow, setPostsToShow] = useState(posts.slice(0, GRID_LIMIT));\n\n  const handleToggle = () => {\n    if (toggleText === 'Featured') {\n      setToggleTxt('Recent');\n\n      setPosts(data.allMarkdownRemark.edges);\n      console.log(posts);\n    } else {\n      setPosts(posts.filter(({ node }) => node.frontmatter.featured === true));\n      console.log(posts);\n      setToggleTxt('Featured');\n    }\n  };\n\n  const sortTags = group\n    .sort((a, b) => {\n      return b.totalCount - a.totalCount;\n    })\n    .slice(0, 5);\n\n  const showMore = () => {\n    setPostsToShow(posts.slice(0, postsToShow.length + GRID_LIMIT));\n  };\n\n  const options = { year: 'numeric', month: 'short', day: 'numeric' };\n\n  return (\n    <Layout location={location}>\n      <Helmet>\n        <title>Blog | {config.name}</title>\n        <link rel=\"canonical\" href={`${config.siteUrl}/blog`} />\n      </Helmet>\n      <StyledMainContainer>\n        <StyledFlex>\n          <div className=\"posts\">\n            <StyledLatestPostHeader className=\"small-title wavy\">\n              {toggleText === 'Featured' ? 'Recent' : 'Featured'} Posts\n            </StyledLatestPostHeader>\n\n            <StyledButtonContainer>\n              <StyledToggleButton onClick={() => handleToggle()}>{toggleText}</StyledToggleButton>\n            </StyledButtonContainer>\n\n            {posts.length > 0 &&\n              postsToShow.map(({ node }, i) => {\n                const { frontmatter, timeToRead, excerpt } = node;\n                const { title, slug, date, tags } = frontmatter;\n                const d = new Date(date);\n\n                return (\n                  <StyledPost key={i} tabIndex=\"0\">\n                    <StyledPostInner>\n                      <header>\n                        <Link to={slug}>\n                          <StyledPostHeader>\n                            <StyledFolder></StyledFolder>\n                          </StyledPostHeader>\n                          <StyledReadingTimeContainer>\n                            <StyledDate>{`📅 ${d.toLocaleDateString('en-us', options)}`}</StyledDate>\n                            <StyledReadingTime>{`⏱️ ${timeToRead} min read`}</StyledReadingTime>\n                          </StyledReadingTimeContainer>\n                          <StyledPostName>{title}</StyledPostName>\n                          <StyledPostDescription>{excerpt}</StyledPostDescription>\n                        </Link>\n                      </header>\n                      <footer>\n                        <StyledTags>\n                          {tags.map((tag, i) => (\n                            <li key={i}>\n                              <Link to={`/blog/tags/${kebabCase(tag)}/`}>#{tag}</Link>\n                            </li>\n                          ))}\n                        </StyledTags>\n                      </footer>\n                    </StyledPostInner>\n                  </StyledPost>\n                );\n              })}\n            <StyledButtonContainer>\n              <StyledMoreButton onClick={() => showMore()}>Show More</StyledMoreButton>\n            </StyledButtonContainer>\n          </div>\n          <StyledTagsContainer>\n            <h1 className=\"small-text\">Tags</h1>\n            <ul className=\"fancy-list\">\n              {sortTags.map(tag => (\n                <li key={tag.fieldValue}>\n                  <Link to={`/blog/tags/${kebabCase(tag.fieldValue)}/`}>\n                    {tag.fieldValue} <span className=\"count\">({tag.totalCount})</span>\n                  </Link>\n                </li>\n              ))}\n              <StyledAllCategory to={`/blog/tags`}>All Tags</StyledAllCategory>\n            </ul>\n          </StyledTagsContainer>\n        </StyledFlex>\n      </StyledMainContainer>\n    </Layout>\n  );\n};\n\nBlogPage.propTypes = {\n  location: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\nexport default BlogPage;\n\nexport const pageQuery = graphql`\n  {\n    allMarkdownRemark(\n      filter: { fileAbsolutePath: { regex: \"/posts/\" }, frontmatter: { draft: { ne: true } } }\n      sort: { frontmatter: { date: DESC } }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            title\n            slug\n            date\n            tags\n            draft\n            featured\n          }\n          excerpt\n          timeToRead\n        }\n      }\n      group(field: { frontmatter: { tags: SELECT } }) {\n        fieldValue\n        totalCount\n      }\n    }\n  }\n`;\n"],"names":["colors","fontSizes","fonts","theme","StyledTagsContainer","styled","div","withConfig","displayName","componentId","media","bigDesktop","phablet","StyledMainContainer","Main","mixins","flexBetween","StyledButtonContainer","StyledFlex","Img","borderRadius","tablet","StyledPostInner","boxShadow","transition","lightNavy","StyledAllCategory","Link","StyledPost","StyledReadingTime","span","SFMono","smish","lightSlate","StyledDate","StyledReadingTimeContainer","StyledPostHeader","StyledFolder","green","StyledPostName","h5","xxl","lightestSlate","StyledPostDescription","StyledTags","ul","xs","inlineLink","StyledToggleButton","Button","StyledMoreButton","StyledLatestPostHeader","h1","_ref","location","data","group","allMarkdownRemark","posts","setPosts","useState","edges","toggleText","setToggleTxt","postsToShow","setPostsToShow","slice","sortTags","sort","a","b","totalCount","options","year","month","day","React","Layout","Helmet","config","rel","href","className","onClick","console","log","filter","_ref2","node","frontmatter","featured","length","map","_ref3","i","timeToRead","excerpt","title","slug","date","tags","d","Date","key","tabIndex","to","toLocaleDateString","tag","kebabCase","fieldValue"],"sourceRoot":""}